
# Домашнее задание к занятию "Микросервисы: принципы"

Вы работаете в крупной компании, которая строит систему на основе микросервисной архитектуры.
Вам как DevOps специалисту необходимо выдвинуть предложение по организации инфраструктуры, для разработки и эксплуатации.

## Задача 1: API Gateway 

Предложите решение для обеспечения реализации API Gateway. Составьте сравнительную таблицу возможностей различных программных решений. На основе таблицы сделайте выбор решения.

Решение должно соответствовать следующим требованиям:
- Маршрутизация запросов к нужному сервису на основе конфигурации
- Возможность проверки аутентификационной информации в запросах
- Обеспечение терминации HTTPS

Обоснуйте свой выбор.

## Задача 2: Брокер сообщений

Составьте таблицу возможностей различных брокеров сообщений. На основе таблицы сделайте обоснованный выбор решения.

Решение должно соответствовать следующим требованиям:
- Поддержка кластеризации для обеспечения надежности
- Хранение сообщений на диске в процессе доставки
- Высокая скорость работы
- Поддержка различных форматов сообщений
- Разделение прав доступа к различным потокам сообщений
- Простота эксплуатации

Обоснуйте свой выбор.

---

# API Gateway 

Существуют различные API Gateway, например:

- Kong API Gateway
- Tyk API Gateway
- KrakenD API Gateway
- Amazon API Gateway
- Azure API Management

Критерии выбор API Gateway могут быть

- По техническим характеристикам:

    - Поддержка определённой функции

- По способу развёртывания:

    - Облако
    - Self-hosted

- По стоимости:

    - В облаке будет платная подписка
    - В self-hosted базовый функционал свободный, а некоторые функции платные

- По простоте настройки и поддержи.


Если остальные части системы уже развёрнуты в облаке, то можно выбрать  API Gateway этого облака, например Azure API Management.

Self-hosted решение также скорее всего будет сложнее поддерживать, изменять настройки. Поэтому по простоте изменения настроек облачные решения могут иметь преимущество.

По требованиям рассмотренные API Gateway поддерживают необходимые функции.
В качестве функционального и при этом бесплатного решения можно использовать nginx или HAProxy.




# Брокер сообщений

Существуют множнество брокеров сообщений, например: 

- Apache Kafka
- RabbitMQ
- Apache ActiveMQ
- Redis

Большинство из них поддерживают заявленные требования.

Некоторые отличия: 

- По поддерживаемому типу сообщений: RabbitMQ поддерживает меньше типов сообщений, чем остальные брокеры сообщений.

- По скорости работы: RabbitMQ хорош в обеспечении надежной доставки сообщений, но его производительность отстает от Apache Kafka при работе с большими объемами данных или высокой пропускной способностью. RabbitMQ не обеспечивает передачу сообщений с низкой задержкой, как Apache Kafka, что ограничивает его применение в потоковых приложениях.

Исходя из максимальной производительности  скорее всего подойдёт Apache Kafka.






