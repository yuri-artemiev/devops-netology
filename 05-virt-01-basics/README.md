# Домашнее задание к занятию "5.1. Введение в виртуализацию. Типы и функции гипервизоров. Обзор рынка вендоров и областей применения."

## Задача 1

Опишите кратко, как вы поняли: в чем основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

Разница в уровне изоляции гостевых ОС и накладных расходах.  
В полной апаратной виртуализации гипервизор обеспечивает полную изоляцию и эмуляцию устройств для гостевой ОС. Со стороны гостевой ОС выглядит как будто она работает на выделенном сервере. Нет жестких требований к гостевой системе.  
В паравирутализация необходимы специальные драйвера для гостевой системы, чтобы обращаться к ресурсам хоста.  
В виртуализации на основе ОС компоненты хоста (ядро) разделяются с гостевой ОС (контейнером). Поэтому выбор гостевой ОС ограничен хостом.  

## Задача 2

Выберите один из вариантов использования организации физических серверов, в зависимости от условий использования.

Организация серверов:
- физические сервера,
- паравиртуализация,
- виртуализация уровня ОС.

Условия использования:
- Высоконагруженная база данных, чувствительная к отказу.
- Различные web-приложения.
- Windows системы для использования бухгалтерским отделом.
- Системы, выполняющие высокопроизводительные расчеты на GPU.

Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

- Высоконагруженная база данных, чувствительная к отказу.  
    - Паравиртуализация, чтобы использовать кластер физических серверов.  
    - Или физические серверы, чтобы получить максимальную производительсноть, но при условии построения кластера на уровне приложения (баз данных).  

- Различные web-приложения.  
    - Зависит от требования к ресурсам. Может подойти виртуализация уровня ОС.  
    - Или паравиртуализация.  

- Windows системы для использования бухгалтерским отделом.  
    - Решение на базе Hyper-V, т.е. паравиртуализация.  

- Системы, выполняющие высокопроизводительные расчеты на GPU.  
    - Физические сервера. Для прямого доступа к физическим устройствам.  



## Задача 3

Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

1. 100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
2. Требуется наиболее производительное бесплатное open source решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
3. Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows инфраструктуры.
4. Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

- Сценарий 1. Hyper-V с возможностью создания кластера (Failove Cluster). Апаратная виртуализация, которая лучше всего подойдёт для среды с преобладанием Windows.  
- Сценарий 2. KVM под управлением Proxmox (если требуется центральное управление несколькими хостами). Подходит как для виртуализации как Linux, так и Windows.  
- Сценарий 3. Microsoft Hyper-V Server - это бесплатный продукт, который включает только гипервизор Windows, модель драйвера Windows Server и компоненты виртуализации. Однако 2019 версия возможно станет последней. Поэтому если ориентироваться на будущее, то можно воспользоваться VMware ESXi или KVM.  
- Сценарий 4. Контейнерезация на базе Docker или LXC. Подойдёт для задач тестирования.  

## Задача 4

Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, то создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.  

Недостатки:  
- Повышенные требования к квалификации обслуживающего персонала.  
- Увеличен риск отказа по сравнению с гомогенной средой.  
- Ограниченый выбор сопроводительных систем, поддерживающий все среды.  

Если использование нескольких систем необходимо, то можно постараться строить дизайн по best practices. Не использовать кастомных решений. Это уменьшит риск попасть в ситуацию пограничного состояния.  

Если бы у меня был выбор, то я бы постарался построить дизайн в рамках одной среды.  


